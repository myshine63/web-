<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>add 1</button>
<p></p>
</body>
<script>
  // 利用闭包实现一个防抖函数,快速多次点击按钮，只会执行一次
  function debounce(fn, wait) {
    let canRun = true;
    let self = this;
    return function () {
      //如果定时器存在
      if (!canRun) {
        return
      }
      canRun = false
      // 创建一个新的定时器，去执行函数
      setTimeout(() => {
        fn.apply(self, arguments)
        canRun = true
      }, wait);
    }
  }

  let btn = document.querySelector("button");
  let p = document.querySelector("p");
  let count = 0;
  let handleClick = debounce(function (e) {
    count++
    p.innerText = `函数执行了${count}次`
  }, 2000);
  btn.onclick = handleClick;
</script>
</html>